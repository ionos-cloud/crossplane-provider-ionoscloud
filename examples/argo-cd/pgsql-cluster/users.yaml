apiVersion: v1
kind: Secret
metadata:
  name: psqlcreds2
  namespace: crossplane-system
data:
  credentials: eyJ1c2VybmFtZSI6InRlc3R1c2VyMTIzNDU2IiwicGFzc3dvcmQiOiJwYXNzd29yZDEyMzQ1NTUzIn0=
---
# User 1
apiVersion: dbaas.ionoscloud.crossplane.io/v1alpha1
kind: PostgresUser
metadata:
  name: example1
spec:
  managementPolicies:
    - "*"
  forProvider:
    credentials:
      source: Secret
      secretRef:
        namespace: crossplane-system
        name: psqlcreds2
        key: credentials
    clusterConfig:
      ClusterId: 6fdc61f1-0b27-4c92-8598-b8909f11d2f4
  providerConfigRef:
    name: example
---
# User 2
apiVersion: dbaas.ionoscloud.crossplane.io/v1alpha1
kind: PostgresUser
metadata:
  name: example2
spec:
  managementPolicies:
    - "*"
  forProvider:
    credentials:
      source: "None"
      username: testusernosecret
      password: cleartextpassword
    clusterConfig:
      ClusterId: 6fdc61f1-0b27-4c92-8598-b8909f11d2f4
  providerConfigRef:
    name: example
